---
layout: post
title: "React Query + 상태 + 상태 관리 [1편]"
author: Seobisback
tags: [React, ReactNative, State, StateManagement]
categories: Syntax
---

React Query + 상태 + 상태 관리 [1편]

> 이 글은 유튜브 영상 중 **‘React Query와 상태관리’** 라는 주제로 **2022.02 우아한테크세미나**의
영상을 보며 공부를 하고 정리한 내용을 바탕으로 기술되었습니다. 저의 주관이 섞인 내용이 들어갈 수도 있고,
영상에서 다루는 내용을 정리하여 기록한 내용이 주로 다루어집니다.

우선적으로 React Query에 이야기를 하시기 전에 상태에 관한 이야기로 세미나의 서두를 띄우셨다.

### 상태란 ?

- 주어진 시간(시간에 따라서 언제든지 변화할 수 있음)에 대해 시스템을 나타내는 것으로 언제든지 변경될 수 있고, 즉 문자열, 배열, 객체 등의 형태로 응용 프로그램에 저장된 데이터 + 개발자 입장에서 관리해야하는 데이터
- UI/UX의 중요성과 함께 프로덕트 규모가 많이 커지고 Front-end에서 수행하는 역할이 늘어났다 → 관리해야 하는 상태가 많아졌다.

### FE(Front-End) 상태관리는?

- 보통 상태 관리가 무엇인가요? 라는 질문을 받으면 추상적인 개념으로 라이브러리가 먼저 떠오른다.
  - Redux, MobxX, Recoil 등
- 그리고 React의 useState Hook도 떠오를 수 있고, 어떠한 웹 객체 요소의 현재 상태(닫혀 있는 상태, 열려있는 상태)도 이야기할 수 있을 것 같고, 데이터(Server State, Client State)가 변화하여 해당하는 데이터를 Re-render 하거나 저장하고, 변경하는 작업 등도 떠오르게 되는 것 같다.

### 그래서 상태관리가 무엇인데?

- 상태를 관리하는 방법에 대한 것 → 프로덕트가 커짐에 따라 상태를 관리하는 어려움도 커진다.
  - 이유 : 프로덕트 크기가 클 수록 관리가 필요한 상태가 많아지고, 그 상태는 언제든지 변경될 수 있기 떄문
- React에서는 단방향 바인딩이므로 부모 컴포넌트에서 하위 컴포넌트까지 필요한 상태를 전달해주기 위함이나 관계적으로는 더 먼 곳에 있는 컴포넌트에 해당 데이터를 전달하기 위한 Props Drilling 이슈도 존재
- 위와 같은 Props Drilling이라는 이슈를 해결하고 더 나은 상태 관리 환경을 위한 Redux와 MobX 같은 라이브러리를 활용해서 해당 이슈를 해결하고, 상태를 전역적으로 관리하기도 한다.
- 이처럼 상태를 어떻게 Handle 하는지를 통 틀어서 상태 관리라고 말할 수 밖에 없을 것 같다.

> 정리하자면 모던 웹 프론트 환경에서는 여러 가지 상태들이 존재하고, 그 상태들을 체계적으로 관리하기 위한 여러가지 상태 관리 정돈 방식이 등장했다 라고 정리할 수 있다.
>

## 상태(state)의 Ownership에 따라 관리 포인트를 나눈다.

### Client State ? Server State?

> Key Point는 데이터의 Ownership이 있는 곳
>

### Client State - Ownership이 Client에 있다.

- Client에서 소유하며 온전히 제어가능하다.
- 초기값 설정이나 조작에 제약사항 없음
- 다른 사람들과 공유되지 않으며 Client 내에서 UI/UX 흐름이나 사용자 인터렉션에 따라 변할 수 있다.
- 항상 Client 내에서 최신 상태로 관리된다.

### Server State - Ownership이 Server에 있다.

- Client에서 제어하거나 소유되지 않은 원격의 공간에서 관리되고 유지된다.
- Fetching/Updating에 비동기 API가 필요하다.
- 다른 사람들과 공유되는 것으로 사용자가 모르는 사이에 변경될 수 있다.
- 신경 쓰지 않는다면 잠재적으로 “out of date”가 될 가능성을 지니고 있다.